# チームプランシナリオ

このユースケースでは、Hexabase.AI の **チームプラン**を活用する開発チームについて説明します。このプランは、共有インフラストラクチャとガバナンスで複数のプロジェクトでコラボレーションする必要があるスタートアップや中小企業に最適です。

## 目標

チームプランの目標は、スタートアップや開発チームに協調的で安全かつ統制されたプラットフォームを提供することです。共有インフラストラクチャと明確なロールベースアクセス制御により、異なる環境（開発、ステージング、本番など）にわたる複数のプロジェクトを管理する必要があるチーム向けに設計されています。

### 1. 組織とチームのセットアップ

- 管理者がチームプランにサインアップし、組織（例：`MyStartupInc`）を作成します。
- 管理者は DevOps エンジニアを **組織管理者**として、他のチームメンバーを **組織ユーザー**として招待します。
- このロールベースアクセス制御（RBAC）により、組織管理者のみが請求管理、新しいワークスペースの作成、組織全体のポリシー設定を行えるようになります。

### 2. ワークスペースの作成

- 組織管理者は環境を分離するために複数のワークスペースを作成します：
  - **`SaaS-Product-Dev`**：日々の開発とテスト用
  - **`SaaS-Product-Staging`**：本番前テスト用のより安定した環境
- 管理者はこれらのワークスペースにチームとユーザーを割り当て、適切な権限（`workspace-admin`、`developer` など）を付与します。

### 3. リソース管理とインフラストラクチャ

- チームのニーズをサポートするため、組織管理者は組織用にいくつかの**専用ノード**をプロビジョニングし、ワークスペース間で共有できます。
- また、データベース用の高性能**ブロックストレージ**と、**自動バックアップ**用の別のオブジェクトストレージバケットを接続します。
- 開発ワークスペースにリソースクォータを設定し、単一ユーザーが過剰なリソースを消費するのを防ぎます。

### 4. 協調開発と CI/CD

- チームのプロジェクトは GitLab や GitHub などの中央 Git リポジトリでホストされています。
- DevOps エンジニアが高度な CI/CD パイプラインを設定します：
  - フィーチャーブランチは自動的に隔離されたプレビュー環境にデプロイされます。
  - `main` ブランチへのマージは `SaaS-Product-Dev` ワークスペースへのデプロイをトリガーします。
  - ステージングへのプロモーションには、ワークスペース管理者からの手動承認ステップが必要です。

### 5. 高度な AIOps と可観測性

- ステージングと本番のワークスペースでは、フル機能の **AIOps** が有効になっています。
- AIOps アシスタントはログ、トレース、メトリクスを分析して、アプリケーションのパフォーマンスと潜在的なボトルネックに関する洞察を提供します。
- また、過剰にプロビジョニングされたリソースのサイズ適正化を提案するなど、コスト最適化の推奨事項も提供します。
- チームは強力な可観測性ツールにアクセスできますが、このプランではエンタープライズプランと比較して**監査ログ**の保持期間に一部制限があります。

### 6. 災害復旧（DR）とバックアップ

- 組織管理者は基本的な災害復旧計画を構成します。
- 重要なデータベースボリュームの日次スナップショットが自動的に取得され、安全で地理冗長性のある場所に保存されます。
- チームはデータ損失の場合、これらのバックアップから簡単に復元できます。

## 使用機能の概要

| 機能                   | チームプランの使用                                                                       |
| :-------------------- | :-------------------------------------------------------------------------------------- |
| **組織**              | ユーザー、請求、リソースの集中管理                                                        |
| **RBAC**              | 組織管理者と組織ユーザーのロール、明確な職務分離を提供                                      |
| **ワークスペース**      | 異なる環境（開発、ステージング）用の複数のワークスペース                                    |
| **ノード**            | ワークスペース間で共有できる専用ノードのプロビジョニングと共有機能                           |
| **ストレージとバックアップ** | 高度なストレージソリューションと自動バックアップ構成のサポート                               |
| **災害復旧**           | 基本的な災害復旧オプションが利用可能                                                      |
| **CI/CD**             | 承認とマルチ環境デプロイメントを備えた完全に機能するパイプライン                             |
| **AIOps**             | パフォーマンスチューニングとコスト最適化のための高度な AIOps 機能                           |
| **監査とセキュリティ**   | 監査ログとセキュリティ機能へのアクセス、保持期間と範囲に一部制限あり                         |