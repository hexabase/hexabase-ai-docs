# 外部認証でHexabase.AIにサインアップする

## 1. ユースケース名
外部認証でHexabase.AIにサインアップする

## 2. アクター（実行者）
- **主アクター：** 新規ユーザー  
- **副アクター：** Hexabase.AIシステム、外部認証プロバイダー（GitHub、Google）

## 3. 事前条件
- ユーザーが外部認証プロバイダー（GitHub または Google）のアカウントを持っている
- インターネット接続が利用可能である
- ユーザーがHexabase.AIのアカウントを持っていない

## 4. 成功シナリオ（基本フロー）
1. ユーザーがHexabase.AIの公式サイトにアクセスする
2. ユーザーが認証プロバイダーのサインアップボタンをクリックする
3. システムがユーザーを外部認証プロバイダーにリダイレクトする
4. ユーザーが外部認証プロバイダーで認証を行う
5. ユーザーがHexabase.AIへのアクセス許可を承認する
6. システムがユーザーをHexabase.AIサイトに戻す
7. システムがアカウント設定画面を表示する
8. ユーザーが利用プランを選択する
9. ユーザーが利用規約とプライバシーポリシーに同意する
10. システムがアカウントを作成する
11. システムがユーザーをダッシュボードに案内する

## 5. 代替シナリオ（代替フロー）

### 5.1 既存アカウントとの重複
- 7.1a. メールアドレスが既に登録されている
- 7.1b. システムが「このアカウントは既に登録されています」と表示する
- 7.1c. ユーザーがログインページに移動する

### 5.2 認証の拒否またはキャンセル
- 5.2a. ユーザーが外部認証プロバイダーでの認証をキャンセルする
- 5.2b. システムが「認証がキャンセルされました」と表示する
- 5.2c. ユーザーがサインアップページに戻る

### 5.3 外部認証サービス障害
- 3.3a. 外部認証プロバイダーのサービスが利用できない
- 3.3b. システムが「認証サービスが一時的に利用できません」と表示する
- 3.3c. ユーザーが後で再試行するか、別の認証プロバイダーを選択する

## 6. 事後条件
- 新規ユーザーアカウントがHexabase.AIに作成されている
- ユーザーがログイン状態になっている
- 選択されたプランが適用されている
- 外部認証プロバイダーとの連携が有効になっている
- ユーザーがダッシュボードにアクセスできる

## 7. 補足事項
- GitHubの場合：2段階認証やメール非公開設定により追加ステップが発生する可能性がある
- Googleの場合：複数アカウント選択や企業制限により追加確認が必要な場合がある