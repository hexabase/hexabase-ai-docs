# Kubernetes RBAC

このセクションでは、Hexabase.AI が Kubernetes ロールベースアクセス制御とどのように統合・管理するかを説明します。

## 概要

Hexabase.AI は、プラットフォームロールと Kubernetes RBAC 間のシームレスなマッピングを提供し、ユーザーが Kubernetes の複雑さを直接扱うことなく HKS インターフェースを通じて Kubernetes リソースを管理できるようにします。

## ロールマッピング

### Hexabase から Kubernetes ロール変換

| Hexabase ロール | Kubernetes ClusterRole | 権限 |
|---------------|------------------------|-------------|
| ワークスペース管理者 | cluster-admin (namespaced) | 割り当てられた namespace 内の完全制御 |
| ワークスペース開発者 | edit | アプリとサービスの作成、更新、削除 |
| ワークスペース閲覧者 | view | リソースへの読み取り専用アクセス |

## Namespace 分離

各 Hexabase ワークスペースは 1つ以上の Kubernetes namespace にマップされます：

- **ワークスペース Namespace**: アプリケーション用のプライマリ namespace
- **システム Namespace**: プラットフォーム管理リソース用
- **監視 Namespace**: オブザーバビリティツール用

## サービスアカウント管理

Hexabase は Kubernetes サービスアカウントを自動的に作成・管理します：

1. **ユーザーサービスアカウント**: クラスターにアクセスする人間ユーザー用
2. **アプリケーションサービスアカウント**: ワークロードと CI/CD パイプライン用
3. **システムサービスアカウント**: プラットフォームコンポーネント用

## ベストプラクティス

1. **Hexabase ロールを使用**: プラットフォームに Kubernetes RBAC の複雑さを管理させる
2. **定期監査**: HKS ダッシュボードを通じてロール割り当てをレビュー
3. **最小権限に従う**: 必要最小限の権限を割り当て
4. **ワークスペースを活用**: セキュリティ境界にワークスペース分離を使用

## 高度な設定

カスタム RBAC 要件のため、Hexabase は以下をサポートします：

- カスタムロール定義
- きめ細かい権限ポリシー
- 外部 ID プロバイダーとの統合
- コンプライアンス主導のアクセス制御